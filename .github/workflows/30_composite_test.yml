name: real-secret-bypass
on: workflow_dispatch
jobs:
  test:
    runs-on: [self-hosted, Windows, X64]
    steps:
      - name: Test with Real Secret
        env:
          REAL_SECRET: ${{ secrets.TEST_SECRET }}
        shell: cmd
        run: |
          echo ::add-mask::%REAL_SECRET%
          echo.
          echo Direct echo (should be masked):
          echo %REAL_SECRET%
          echo.
          echo Substring test:
          echo %REAL_SECRET:~0,1%
          echo %REAL_SECRET:~1,1%
          echo %REAL_SECRET:~2,1%
