name: masking-consistency-test
on: workflow_dispatch
jobs:
  test:
    runs-on: [self-hosted, Windows, X64]
    steps:
      - name: Test 1 - Without add-mask
        env:
          SECRET: ${{ secrets.TEST_SECRET }}
        shell: cmd
        run: |
          echo === Test 1: Otomatik maskeleme var mi? ===
          echo Direct echo WITHOUT add-mask:
          echo %SECRET%
          echo.
          echo Substring WITHOUT add-mask:
          echo %SECRET:~0,1%
          
      - name: Test 2 - With add-mask
        env:
          SECRET: ${{ secrets.TEST_SECRET }}
        shell: cmd
        run: |
          echo === Test 2: add-mask sonrasi ===
          echo ::add-mask::%SECRET%
          echo Direct echo WITH add-mask:
          echo %SECRET%
          echo.
          echo Substring WITH add-mask:
          echo %SECRET:~0,1%
